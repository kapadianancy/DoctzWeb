<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <body>

        <ui:composition template="./masterPage.xhtml">

            <ui:define name="content">
                 <!-- Breadcrumb -->
			<div class="breadcrumb-bar">
				<div class="container-fluid">
					<div class="row align-items-center">
						<div class="col-md-12 col-12">
							<nav aria-label="breadcrumb" class="page-breadcrumb">
								<ol class="breadcrumb">
									<li class="breadcrumb-item"><a href="index.xhtml">Home</a></li>
									<li class="breadcrumb-item active" aria-current="page">Change Password</li>
								</ol>
							</nav>
							<h2 class="breadcrumb-title">Change Password</h2>
						</div>
					</div>
				</div>
			</div>
			<!-- /Breadcrumb -->
                <h:form>
           <div class="content">
        <div class="container-fluid">
                <div class="row">

                        <!-- Profile Sidebar -->
                        <div class="col-md-5 col-lg-4 col-xl-3 theiaStickySidebar">
                                <div class="profile-sidebar">
                                        <div class="widget-profile pro-widget-content">
                                                <div class="profile-info-widget">
                                                        <a href="#" class="booking-doc-img">
                                                                <img src="/DoctzWeb/resources/img/patients/user.png" alt="User Image"/>
                                                        </a>
                                                        <div class="profile-det-info">
                                                            <h3>#{patientBean.currentUser.patientName}</h3>
                                                                <div class="patient-details">
                                                                    <h5><i class="fas fa-birthday-cake"></i>#{patientBean.currentUser.age}</h5>
                                                                    
                                                                </div>
                                                        </div>
                                                </div>
                                        </div>
                                        <div class="dashboard-widget">
                                                <nav class="dashboard-menu">
                                                        <ul>
                                                            <li>
                                                                        <a href="faces/dashboard.xhtml">
                                                                                <i class="fas fa-columns"></i>
                                                                                <span>Dashboard</span>
                                                                        </a>
                                                                </li>
                                                                <li>
                                                                        <a href="faces/appointmentTracking.xhtml">
                                                                                <i class="fas fa-columns"></i>
                                                                                <span>Appointment Tracking </span>
                                                                        </a>
                                                                </li>
                                                            <li>
                                                                        <a href="faces/cancelAppointment.xhtml">
                                                                                <i class="fas fa-columns"></i>
                                                                                <span>Cancel Appointment</span>
                                                                        </a>
                                                                </li>
                                                                <li>
                                                                        <a href="faces/attachment.xhtml">
                                                                                <i class="fas fa-comments"></i>
                                                                                <span>Invoices/Attachments</span>
                                                                                
                                                                        </a>
                                                                </li>
                                                                <li>
                                                                    <h:commandLink  action="#{patientBean.display()}">
                                                                                <i class="fas fa-user-cog"></i>
                                                                                <span>Profile Settings</span>
                                                                    </h:commandLink>
                                                                        
                                                                </li>
                                                            <li class="active">
                                                                        <a href="faces/changePassword.xhtml">
                                                                                <i class="fas fa-lock"></i>
                                                                                <span>Change Password</span>
                                                                        </a>
                                                                </li>
                                                                <li>
                                                                        <a href="faces/logout.jsp">
                                                                                <i class="fas fa-sign-out-alt"></i>
                                                                                <span>Logout</span>
                                                                        </a>
                                                                </li>
                                                        </ul>
                                                </nav>
                                        </div>

                                </div>
                        </div>
	<!-- /Profile Sidebar -->
        
            <div class="col-md-7 col-lg-8 col-xl-9">
    <div class="card">
            <div class="card-body">
                                <div class="col-12 col-md-12">
                                    <div class="form-group">
                                        <h2 style="color:#0de0fe;">Change Password</h2>  
                                    </div>
                                    <div>
                                        <span style="color: #{loginBean.color};">#{loginBean.message}</span>
                                    </div>
                            </div>                                                         
                            
											<!-- Change Password Form -->
											
                                                                                                
												<div class="form-group">
                                                                                                    <label>Email</label>
                                                                                                    <h:inputText id="email" class="form-control" value="#{loginBean.username}"/>
													
												</div>
												<div class="form-group">
                                                                                                    <label>New Password</label>&nbsp; <h:message style = "color:red" for="npass"/>
                                                                                                    <h:inputSecret id="npass" value="#{loginBean.npass}" validatorMessage="6 characters which contain at least one numeric digit, one uppercase and one lowercase letter" class="form-control">
                                                                                                            <f:validateRegex pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6}" />
                                                                                                        </h:inputSecret>
												</div>
												<div class="form-group">
													<label>Confirm Password</label>
                                                                                                        <h:inputSecret value="#{loginBean.cpass}" id="cpass" class="form-control"></h:inputSecret>
                                                                                                       
                                                                                                </div>
												<div class="submit-section">
                                                                                                    <h:commandButton class="btn btn-primary submit-btn" value="Save Changes" action="#{loginBean.changePassword()}"/>	
                                                                                              
                                                                                                </div>
											
											<!-- /Change Password Form -->
											
										</div>
									</div>
								</div>
							</div>
						</div>
        
                </div>
        
           
                    </h:form>
            </ui:define>

        </ui:composition>

    </body>
</html>
